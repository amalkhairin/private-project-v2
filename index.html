<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../src/assets/css/owl.carousel.min.css">
    <link rel="stylesheet" href="./src/assets/css/owl.theme.default.min.css">
    <!-- bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.css" />
    <!-- external css -->
    <link rel="stylesheet" href="./src/assets/css/style.css">
</head>
<body>
    <!-- navbar -->
    <section id="section-navbar">
        <nav class="navbar navbar-expand-lg sticky-top navbar-light">
            <div class="container">
                <a class="navbar-brand" href="/#main">
                    <span class="navbar__logo"><span>.</span>Maruu</span>
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarScroll" aria-controls="navbarScroll" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarScroll">
                    <ul class="navbar-nav ms-auto my-2 my-lg-0 navbar-nav-scroll align-items-center">
                        <li class="nav-item">
                            <a class="nav-link text-white" aria-current="page" href="#works">Our Works</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#services">Services</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#progress">Progress</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#contact">Contact</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </section>

    <section id="main">
        <div class="container">
            <div class="row justify-content-center mt-4">
                <div class="col-md-5 col-sm-12 text-center">
                    <h1 class="heading heading-1">let's level up your live stream</h1>
                    <span class="subtext text-white">Try our cool live chat CSS designs.</span>
                    <p class="other-text text-white fs-6"><span>Commission status:</span></p>
                    <a href="#services" class="btn button-white">Open</a>
                    <div class="arrow-down my-5">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 29 23" fill="none">
                            <path d="M14.3232 21.718V21.718L14.3355 21.718C15.0133 21.7145 15.6819 21.5603 16.2927 21.2664C16.9012 20.9735 17.4373 20.5494 17.8621 20.0244L26.0454 10.1112L26.0511 10.1044L26.0566 10.0974C26.6782 9.32169 27.0693 8.38697 27.1854 7.39978C27.301 6.4178 27.1398 5.42318 26.7202 4.52809C26.36 3.7186 25.7758 3.02891 25.0362 2.54054C24.2922 2.04921 23.4225 1.78242 22.5309 1.77204L22.5238 1.77196H22.5167H6.14204H6.13493L6.12782 1.77204C5.23627 1.78242 4.36654 2.04921 3.62252 2.54054C2.88298 3.02892 2.29871 3.71862 1.93853 4.52812C1.51899 5.42321 1.35781 6.41781 1.47334 7.39978C1.58948 8.38697 1.9806 9.32169 2.60214 10.0974L2.60771 10.1044L2.61339 10.1112L10.7967 20.0245C11.2216 20.5494 11.7575 20.9735 12.3661 21.2664C12.9769 21.5603 13.6454 21.7145 14.3232 21.718Z" fill="#F8F9FB" stroke="#AECBEB" stroke-width="2.44339"/>
                          </svg>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="works">
        <div class="bg-white">
            <div class="container py-4">

                <div class="row row-cols-1 justify-content-center mb-5 d-none">
                    <!-- new items -->
                    <div class="col-md-6">
                        <h3 class="heading heading-3 text-center">New Items</h3>
                        <div class="window mt-3">
                            <div class="header px-3 py-1">
                                <div class="row justify-content-between">
                                    <div class="col-auto">
                                        New items
                                    </div>
                                    <div class="col-auto">
                                        <div class="window-decoration">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="98" height="29" viewBox="0 0 98 29" fill="none">
                                                <rect x="71.8667" y="2.86674" width="23.9556" height="23.9556" rx="6.53333" fill="#E1ECF7" stroke="#83B0E1" stroke-width="4.35556"/>
                                                <path d="M90.0039 10.2256L88.464 8.68568L83.8442 13.3054L79.2245 8.68568L77.6846 10.2256L82.3043 14.8454L77.6846 19.4651L79.2245 21.0051L83.8442 16.3853L88.464 21.0051L90.0039 19.4651L85.3842 14.8454L90.0039 10.2256Z" fill="#83B0E1"/>
                                                <rect x="37.022" y="2.86674" width="23.9556" height="23.9556" rx="6.53333" fill="#E1ECF7" stroke="#83B0E1" stroke-width="4.35556"/>
                                                <rect x="42.4668" y="12.6665" width="8.71111" height="8.71111" stroke="#83B0E1" stroke-width="2.17778"/>
                                                <path d="M43.5557 9.3999H54.4446V20.2888" stroke="#83B0E1" stroke-width="2.17778"/>
                                                <rect x="2.17778" y="2.86674" width="23.9556" height="23.9556" rx="6.53333" fill="#E1ECF7" stroke="#83B0E1" stroke-width="4.35556"/>
                                                <rect x="21.7778" y="20.2891" width="2.17778" height="15.2444" transform="rotate(90 21.7778 20.2891)" fill="#83B0E1"/>
                                              </svg>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="content p-3">
                                <div class="row row-cols-1 row-cols-sm-1 row-cols-md-1 row-cols-lg-1 row-cols-xl-1 justify-content-center align-items-center">
                                    <div class="col-md-6">
                                        <div class="image-container mx-auto" style="width: 200px; height: 250px; background: rgb(134, 134, 168);"></div>
                                    </div>
                                    <div class="col-md-6">
                                        <h2 class="heading heading-window-1 text-center">Nama CSS nya</h2>
                                        <div class="row justify-content-center">
                                            <div class="col-auto">
                                                <button class="btn button-small b-green">Showcase</button>
                                            </div>
                                            <div class="col-auto">
                                                <button class="btn button-small b-red">Youtube</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="row justify-content-center mt-3 mb-3">
                    <div class="col">
                        <h3 class="heading heading-3 text-center">Our Works</h3>
                        <div class=" d-flex justify-content-center">
                            <div id="filter-1" class="filter-item px-3 mx-1 active">All</div>
                            <div id="filter-2" class="filter-item px-3 mx-1">Youtube</div>
                            <div id="filter-3" class="filter-item px-3 mx-1">Twitch</div>
                        </div>
                        <!-- <div id="works-wrapper"></div> -->
                        <div id="carousel-wrapper" class="carousel slide" data-bs-ride="carousel">
                            <div class="carousel-inner">
                            </div>
                            <div class="row justify-content-center">
                                <div class="col-auto">
                                    <div class="carousel__prev" type="button" data-bs-target="#carousel-wrapper" data-bs-slide="prev">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 48 48" fill="none">
                                            <path d="M22.758 11.0791H27.8415V16.1626H24.0289V21.2462H20.0044V26.7533H24.0289V31.8368H27.8415V36.9204H22.758V31.8368H18.9454V26.7533H14.9209V21.2462H18.9454V16.1626H22.758V11.0791Z" fill="#83B0E1"/>
                                            <path fill-rule="evenodd" clip-rule="evenodd" d="M9.77778 0V4.88889H4.88889V9.77778H0V38.2222H4.88889V43.1111H9.77778V48H38.2222V43.1111H43.1111V38.2222H48V9.77778H43.1111V4.88889H38.2222V0H9.77778ZM38.2222 36.3047V39.1111H39.1111V35.4537L40.3973 34.2222H44V13.7778H40.2999L39.1111 12.5678V8.88889H35.4967L34.2222 7.5916V4H13.7778V8.88889H8.88889V12.4869L7.56118 13.7778H4V34.2222H8.88889V39.1111H13.7778V44H34.2222V43.1111H31.1133L38.2222 36.3047Z" fill="#83B0E1"/>
                                        </svg>
                                    </div>
                                </div>
                                <div class="col-auto">
                                    <div class="carousel__next" type="button" data-bs-target="#carousel-wrapper" data-bs-slide="next">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 48 48" fill="none">
                                            <path d="M36.2222 2H11.7778V6.77353L11.6644 6.88889H6.88889V11.7497L6.86132 11.7778H2V36.2222H6.79965L6.88889 36.3077V41.1111H11.7778V40.9885L11.9058 41.1111H11.7778V46H36.2222V41.1111H41.1111V36.2222H46V11.7778H41.2508L41.1111 11.642V6.88889H36.2222V2Z" fill="#C5DEDD"/>
                                            <path d="M11.7778 41.1111H6.88889V36.3077L6.79965 36.2222H2V11.7778H6.86132L6.88889 11.7497V6.88889H11.6644L11.7778 6.77353V2H36.2222V6.88889H41.1111V11.642L41.2508 11.7778H46V36.2222H41.1111V41.1111H36.2222V46H11.7778V41.1111ZM11.7778 41.1111V40.9885L11.9058 41.1111H11.7778Z" stroke="#83B0E1" stroke-width="4"/>
                                            <path d="M19.9998 11H25.0833V16.0835H28.896V21.1671H32.9204V26.6742H28.896V31.7577H25.0833V36.8413H19.9998V31.7577H23.8124V26.6742H27.8369V21.1671H23.8124V16.0835H19.9998V11Z" fill="#83B0E1"/>
                                        </svg>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </section>

    <section id="services">
        <div class="container py-4">
            <div class="row row-cols-1 justify-content-center my-3">
                <div class="col">
                    <h3 class="heading heading-white-3 text-center">Our Services</h3>
                    <div class="switch d-flex justify-content-center my-4">
                        <div id="switch-opt-1" class="button-switch active mx-2">Youtube</div>
                        <div id="switch-opt-2" class="button-switch mx-2">Twitch</div>
                    </div>
                    <div id="plan-wrapper" class="row g-3 row-cols-1 row-cols-sm-1 row-cols-md-1 row-cols-lg-2 row-cols-xl-2 row-cols-xxl-2 justify-content-center">
                        
                    </div>
                </div>
            </div>
        </div>
    </section>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.6.4.slim.js" integrity="sha256-dWvV84T6BhzO4vG6gWhsWVKVoa4lVmLnpBOZh/CAHU4=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.js"></script>
    <script src="../src/assets/js/utilities.js"></script>
    <script>
        window.onload =function() {
            
        }
        $(document).ready(function(){

            if($("#switch-opt-1").hasClass('active')) {
                $("#plan-wrapper").empty()
                get_plan('youtube');
            } else if($("#switch-opt-2").hasClass('active')) {
                $("#plan-wrapper").empty()
                get_plan('twitch')
            }

            if($("#filter-1").hasClass("active")) {
                $(".carousel-inner").empty();
                get_works("all",0);
            } 
            else if($("#filter-2").hasClass("active")) {
                $(".carousel-inner").empty();
                get_works("youtube",0);
            } else if($("#filter-3").hasClass("active")) {
                $(".carousel-inner").empty();
                get_works("twitch",0);
            }

            $("#switch-opt-1").on("click", function(){
                if(!$(this).hasClass('active')) {
                    $(this).addClass('active');
                    $("#plan-wrapper").empty()
                    get_plan('youtube');
                    $("#switch-opt-2").removeClass('active')
                }
            });
            $("#switch-opt-2").on("click", function(){
                if(!$(this).hasClass('active')) {
                    $(this).addClass('active');
                    $("#plan-wrapper").empty()
                    get_plan('twitch')
                    $("#switch-opt-1").removeClass('active')
                }
            });

            $("#filter-1").on("click", function(){
                if(!$(this).hasClass("active")) {
                    $(this).addClass("active");
                    $("#filter-2").removeClass("active")
                    $("#filter-3").removeClass("active")
                    $(".carousel-inner").empty();
                    get_works("all",0);
                }
            })
            $("#filter-2").on("click", function(){
                if(!$(this).hasClass("active")) {
                    $(this).addClass("active");
                    $("#filter-1").removeClass("active")
                    $("#filter-3").removeClass("active")
                    $(".carousel-inner").empty();
                    get_works("youtube",0);
                }
            })
            $("#filter-3").on("click", function(){
                if(!$(this).hasClass("active")) {
                    $(this).addClass("active");
                    $("#filter-1").removeClass("active")
                    $("#filter-2").removeClass("active")
                    $(".carousel-inner").empty();
                    get_works("twitch",0);
                }
            })

            function get_works(filter, limit){
                fetch('./src/json/works.json')
                .then(response => {
                    if (!response.ok) {
                        return null
                        console.log('Terjadi kesalahan: ' + response.status);
                    } else {
                        return response.json();
                    }
                })
                .then(data => {
                    let worksData = data.data;

                    worksData = worksData.sort((a,b) => b.id - a.id);

                    if(filter.toLowerCase() !== 'all') {
                        worksData = worksData.filter(function(item){
                            return item.platform.toLowerCase() === filter.toLowerCase();
                        })
                    }

                    if(limit > 0) {
                        worksData = worksData.slice(0,3);
                    }

                    $.each(worksData, function(index, work){
                        $(".carousel-inner").append(`
                            <div class="carousel-item">
                                <div class="row g-3 row-cols-1 justify-content-center">
                                    <div class="col-md-10 col-sm-12 col-lg-8 col-xl-6 col-xxl-6">
                                        <div class="window my-3">
                                            <div class="header px-3 py-1">
                                                <div class="row justify-content-between">
                                                    <div class="col-auto">
                                                        ${work.platform}
                                                    </div>
                                                    <div class="col-auto">
                                                        <div class="window-decoration">
                                                            <svg xmlns="http://www.w3.org/2000/svg" width="98" height="29" viewBox="0 0 98 29" fill="none">
                                                                <rect x="71.8667" y="2.86674" width="23.9556" height="23.9556" rx="6.53333" fill="#E1ECF7" stroke="#83B0E1" stroke-width="4.35556"/>
                                                                <path d="M90.0039 10.2256L88.464 8.68568L83.8442 13.3054L79.2245 8.68568L77.6846 10.2256L82.3043 14.8454L77.6846 19.4651L79.2245 21.0051L83.8442 16.3853L88.464 21.0051L90.0039 19.4651L85.3842 14.8454L90.0039 10.2256Z" fill="#83B0E1"/>
                                                                <rect x="37.022" y="2.86674" width="23.9556" height="23.9556" rx="6.53333" fill="#E1ECF7" stroke="#83B0E1" stroke-width="4.35556"/>
                                                                <rect x="42.4668" y="12.6665" width="8.71111" height="8.71111" stroke="#83B0E1" stroke-width="2.17778"/>
                                                                <path d="M43.5557 9.3999H54.4446V20.2888" stroke="#83B0E1" stroke-width="2.17778"/>
                                                                <rect x="2.17778" y="2.86674" width="23.9556" height="23.9556" rx="6.53333" fill="#E1ECF7" stroke="#83B0E1" stroke-width="4.35556"/>
                                                                <rect x="21.7778" y="20.2891" width="2.17778" height="15.2444" transform="rotate(90 21.7778 20.2891)" fill="#83B0E1"/>
                                                                </svg>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="content p-3">
                                                <div class="row row-cols-1 row-cols-sm-1 row-cols-md-1 row-cols-lg-1 row-cols-xl-1 justify-content-center align-items-center">
                                                    <div class="col-md-6">
                                                        <div class="image-container mx-auto" style="width: 200px; height: 250px; background: rgb(134, 134, 168); position: relative;">
                                                            <img class="img-fluid" src="https://i.ibb.co/yPCzvpJ/Screenshot-2023-07-26-234223.png" alt="" style="width: 100%; height: 100%; object-fit: cover;">
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <h2 class="heading heading-window-1 text-center">${work.name}</h2>
                                                        <div id="work-link-${work.id}" class="row justify-content-center">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        `)

                        $.each(work.link, function(index, link){
                            if (link.name.toLowerCase() !== 'showcase'){
                                $("#work-link-"+work.id).append(`
                                    <div class="col-auto">
                                        <a href="${link.url}" target="_blank" class="btn button-small b-red">${link.name}</a>
                                    </div>
                                `)
                            } else {
                                $("#work-link-"+work.id).append(`
                                    <div class="col-auto">
                                        <a href="${link.url}" target="_blank" class="btn button-small b-green">${link.name}</a>
                                    </div>
                                `)
                            }
                        })

                        if(index == 0) {
                            $(".carousel-item").addClass("active")
                        }
                    });

                })
                .catch(error => {
                    // Menangani kesalahan jika terjadi
                    console.error('Terjadi kesalahan:', error);
                    return null
                });
            }


            function get_plan(type){
                fetch('./src/json/plan.json')
                .then(response => {
                    if (!response.ok) {
                        return null
                        console.log('Terjadi kesalahan: ' + response.status);
                    } else {
                        return response.json();
                    }
                })
                .then(data => {
                    // Data JSON berhasil diambil
                    let jsonData = data.data;
                    // console.log(jsonData)

                    jsonData = jsonData.filter(function(item){
                        return item.type.toLowerCase() === type.toLowerCase();
                    })

                    let isTwitch = type === 'twitch' ? 'bg-cream' : ''

                    $.each(jsonData, function(index, plan) {
                        $("#plan-wrapper").append(`
                            <div id="${plan.id}" type="${plan.type}" class="col-md-5">
                                <div class="window-2">
                                    <div class="header ${isTwitch} px-3 py-1">
                                        <div class="row justify-content-between">
                                            <div class="col-auto">
                                                ${plan.plan_type}
                                            </div>
                                            <div class="col-auto">
                                                <div class="window-decoration">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="98" height="29" viewBox="0 0 98 29" fill="none">
                                                        <rect x="71.8667" y="2.86674" width="23.9556" height="23.9556" rx="6.53333" fill="none" stroke="#83B0E1" stroke-width="4.35556"/>
                                                        <path d="M90.0039 10.2256L88.464 8.68568L83.8442 13.3054L79.2245 8.68568L77.6846 10.2256L82.3043 14.8454L77.6846 19.4651L79.2245 21.0051L83.8442 16.3853L88.464 21.0051L90.0039 19.4651L85.3842 14.8454L90.0039 10.2256Z" fill="#83B0E1"/>
                                                        <rect x="37.022" y="2.86674" width="23.9556" height="23.9556" rx="6.53333" fill="none" stroke="#83B0E1" stroke-width="4.35556"/>
                                                        <rect x="42.4668" y="12.6665" width="8.71111" height="8.71111" stroke="#83B0E1" stroke-width="2.17778"/>
                                                        <path d="M43.5557 9.3999H54.4446V20.2888" stroke="#83B0E1" stroke-width="2.17778"/>
                                                        <rect x="2.17778" y="2.86674" width="23.9556" height="23.9556" rx="6.53333" fill="none" stroke="#83B0E1" stroke-width="4.35556"/>
                                                        <rect x="21.7778" y="20.2891" width="2.17778" height="15.2444" transform="rotate(90 21.7778 20.2891)" fill="#83B0E1"/>
                                                    </svg>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="content p-3">
                                        <div class="row row-cols-1 justify-content-center">
                                            <div class="col text-center" style="height: 250px;">
                                                <h3 class="heading heading-window-1">${plan.price}</h3>
                                                <span class="text-small">You'll get:</span>
                                                <ul id="items-${plan.id}" class="list-item text-start">
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        `)
                        
                        $.each(plan.items, function(index, item){
                            $("#items-"+plan.id).append(`
                                <li class="item">${item.desc}</li>
                            `)
                        })
                    })

                })
                .catch(error => {
                    // Menangani kesalahan jika terjadi
                    console.error('Terjadi kesalahan:', error);
                    return null
                });
            }
            

        })
    </script>
</body>
</html>